loki:
  deploymentMode: SingleBinary
  
  # Global tolerations for all components
  global:
    tolerations:
      - key: "node-type"
        operator: "Equal"
        value: "system"
        effect: "NoSchedule"
  loki:
    auth_enabled: false
    commonConfig:
      replication_factor: 1
      path_prefix: /tmp/loki
    storage:
      type: 'filesystem'
      filesystem:
        chunks_directory: /tmp/loki/chunks
        rules_directory: /tmp/loki/rules
      bucketNames:
        chunks: chunks
        ruler: ruler
        admin: admin
    schemaConfig:
      configs:
        - from: 2024-01-01
          store: tsdb
          object_store: filesystem
          schema: v13
          index:
            prefix: index_
            period: 24h
  singleBinary:
    replicas: 1
    # Schedule on system nodes
    tolerations:
      - key: "node-type"
        operator: "Equal"
        value: "system"
        effect: "NoSchedule"
    nodeSelector:
      eks.amazonaws.com/nodegroup: "tbyte-dev-system-nodes"
    persistence:
      enabled: false
  read:
    replicas: 0
  write:
    replicas: 0
  backend:
    replicas: 0
  chunksCache:
    enabled: false
  resultsCache:
    enabled: false
  gateway:
    tolerations:
      - key: "node-type"
        operator: "Equal"
        value: "system"
        effect: "NoSchedule"
